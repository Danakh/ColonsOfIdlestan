<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colons of Idlestan v0.0.1 alpha</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <header class="top-bar">
            <h1 class="app-title">Colons of Idlestan v0.0.1 alpha</h1>
            <div id="resources-list" class="resources-bar"></div>
            <div class="settings-menu-container">
                <button id="settings-btn" class="settings-btn" aria-label="Paramètres">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M19.622 10.3954L18.5247 7.7448L20 6L18 4L16.2647 5.4829L13.5578 4.3697L12.9353 2H11.0647L10.4422 4.3697L7.73529 5.4829L6 4L4 6L5.47529 7.7448L4.37765 10.3954L2 11.2361L2 12.7639L4.37765 13.6046L5.47529 16.2552L4 18L6 20L7.73529 18.5171L10.4422 19.6303L11.0647 22H12.9353L13.5578 19.6303L16.2647 18.5171L18 20L20 18L18.5247 16.2552L19.622 13.6046L22 12.7639V11.2361L19.622 10.3954Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <div id="settings-menu" class="settings-menu hidden">
                    <button id="hard-reset-btn" class="menu-item">Hard Reset (détruire GodState)</button>
                    <button id="regenerate-btn" class="menu-item">Nouvelle Carte</button>
                    <div class="menu-separator"></div>
                    <button id="export-btn" class="menu-item">Exporter</button>
                    <button id="import-btn" class="menu-item">Importer</button>
                    <div class="menu-separator"></div>
                    <button id="cheat-btn" class="menu-item">Cheat</button>
                    <button id="show-hex-coords-btn" class="menu-item">Afficher coordonnées hexs</button>
                </div>
            </div>
        </header>
        <main>
            <div id="game-tabs" class="game-tabs hidden" aria-label="Onglets de vue">
                <button id="tab-classic" class="game-tab active" aria-pressed="true">Jeu</button>
                <button id="tab-prestige" class="game-tab" aria-pressed="false">Prestige</button>
            </div>
            <div class="game-layout">
                <div id="map-container" class="map-container">
                    <canvas id="map-canvas"></canvas>
                </div>
                <aside id="city-panel" class="city-panel">
                <h2 id="city-panel-title">Détails de la ville</h2>
                <div id="city-buildings-section">
                    <h3>Bâtiments</h3>
                    <ul id="city-buildings-list"></ul>
                </div>
                <div id="city-panel-footer" class="city-panel-footer">
                    <button
                        id="city-trade-btn"
                        class="city-trade-btn"
                        hidden
                        disabled
                        title="Construisez un Marché ou un Port maritime pour débloquer le commerce."
                    >
                        Commerce (verrouillé)
                    </button>
                    <button
                        id="city-automation-btn"
                        class="city-trade-btn"
                        hidden
                        disabled
                        title="Construisez une Guilde des batisseurs pour débloquer l'automatisation."
                    >
                        Automatisation
                    </button>
                </div>
            </aside>
            </div>
            <aside id="trade-panel" class="trade-panel hidden">
                <h2>Commerce</h2>
                <div class="trade-content">
                    <div class="trade-ports-column">
                        <div class="trade-auto-label">Auto</div>
                        <ul id="trade-ports-list"></ul>
                    </div>
                    <div class="trade-resources-columns">
                        <div class="trade-column">
                            <h3>Vous donnez</h3>
                            <ul id="trade-offered-list"></ul>
                        </div>
                        <div class="trade-column">
                            <h3>Vous recevez</h3>
                            <ul id="trade-requested-list"></ul>
                        </div>
                    </div>
                </div>
                <div class="trade-actions">
                    <div class="trade-buttons-group">
                        <button id="trade-cancel-btn" class="trade-btn cancel-btn">Fermer</button>
                        <button id="trade-confirm-btn" class="trade-btn confirm-btn">Échanger</button>
                    </div>
                </div>
            </aside>
            <aside id="port-specialization-panel" class="trade-panel hidden">
                <h2>Spécialisation du port</h2>
                <p style="margin: 1em; color: #666;">Choisissez une ressource à spécialiser. Cette ressource pourra être échangée au taux 2:1 au lieu de 3:1.</p>
                <ul id="port-specialization-list" class="port-specialization-grid"></ul>
                <div class="trade-actions">
                    <button id="port-specialization-cancel-btn" class="trade-btn cancel-btn">Annuler</button>
                    <button id="port-specialization-confirm-btn" class="trade-btn confirm-btn" disabled>Confirmer</button>
                </div>
            </aside>
            <aside id="automation-panel" class="trade-panel hidden">
                <h2>Automatisation</h2>
                <p style="margin: 1em; color: #666;">Activez les automatisations de construction débloquées par la Guilde des batisseurs. Les automatisations disponibles dépendent du niveau de la Guilde.</p>
                <ul id="automation-list" class="automation-list"></ul>
                <div class="trade-actions">
                    <button id="automation-close-btn" class="trade-btn confirm-btn">Fermer</button>
                </div>
            </aside>
            <aside id="prestige-panel" class="trade-panel hidden">
                <h2>Confirmation de Prestige</h2>
                <div style="margin: 1em; padding: 1em; background: #f0f0f0; border-radius: 4px;">
                    <p style="color: #333; margin: 0 0 0.5em 0;"><strong>Points actuels:</strong></p>
                    <p id="prestige-current-points" style="color: #d4a574; font-size: 1.5em; font-weight: bold; margin: 0;">0</p>
                </div>
                <div style="margin: 1em; padding: 1em; background: #e8f5e9; border-radius: 4px; border-left: 4px solid #4caf50;">
                    <p style="color: #333; margin: 0 0 0.5em 0;"><strong>Points à gagner:</strong></p>
                    <p id="prestige-gain-points" style="color: #4caf50; font-size: 1.5em; font-weight: bold; margin: 0;">+0</p>
                </div>
                <p style="margin: 1em; color: #666;">Confirmez-vous l'activation du Prestige ? Cette action s'appliquera immédiatement.</p>
                <div class="trade-actions">
                    <button id="prestige-confirm-btn" class="trade-btn confirm-btn">Confirmer</button>
                    <button id="prestige-cancel-btn" class="trade-btn" style="background-color: #888;">Annuler</button>
                </div>
            </aside>
            <aside id="civilization-upgrade-panel" class="trade-panel hidden">
                <h2>Dépenser les Points de Civilisation</h2>
                <div style="margin: 1em; padding: 1em; background: #f0f0f0; border-radius: 4px;">
                    <p style="color: #333; margin: 0 0 0.5em 0;"><strong>Points disponibles:</strong></p>
                    <p id="civilization-upgrade-points" style="color: #d4a574; font-size: 1.5em; font-weight: bold; margin: 0;">0</p>
                </div>
                <p id="civilization-upgrade-total" class="civilization-upgrade-total">Prestige cumulé : 0</p>
                <p id="civilization-upgrade-hint" class="civilization-upgrade-hint hidden">Gagnez un Prestige pour obtenir des points à dépenser.</p>
                <p style="margin: 1em; color: #666;">Choisissez les améliorations à débloquer pour votre prochaine partie.</p>
                <ul id="civilization-upgrades-list" class="civilization-upgrades-list"></ul>
                <div class="trade-actions">
                    <button id="civilization-upgrade-close-btn" class="trade-btn confirm-btn">Fermer et Relancer la Partie</button>
                </div>
            </aside>
        </main>
        <footer>
        </footer>
    </div>
    <script type="module" src="./main.js"></script>
</body>
</html>
